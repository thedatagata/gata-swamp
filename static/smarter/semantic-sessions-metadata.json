{
  "table": "session_facts",
  "description": "Session-level analytics from amplitude.sessions_pivot_src (materialized as session_facts) with 345K sessions",
  "fields": {
    "session_id": {"description": "Unique session identifier", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "identifier", "members": null},
    "cookie_id": {"description": "Cookie identifier/Visitor ID", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "identifier", "members": null},
    "session_start_time": {"description": "Session start timestamp", "md_data_type": "TIMESTAMP WITH TIME ZONE", "ingest_data_type": "timestamp", "sanitize": false, "data_type_category": "temporal", "members": null},
    "session_date": {"description": "Date of the session", "md_data_type": "TIMESTAMP", "ingest_data_type": "timestamp", "sanitize": false, "data_type_category": "temporal", "members": null},
    "days_since_last_session": {"description": "Days since previous session", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "session_month_name": {"description": "Month name", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "categorical", "members": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]},
    "session_weekday_name": {"description": "Weekday name", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "categorical", "members": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]},
    "session_sequence_number": {"description": "Session sequence for current visitor", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "traffic_source": {"description": "Marketing channel source", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "categorical", "members": ["direct", "email", "facebook_organic", "facebook_paid", "google_organic", "google_paid"]},
    "traffic_source_type": {"description": "Aggregated source type", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "categorical", "members": ["email", "organic_traffic", "paid_ad_traffic", "returning"]},
    "is_anonymous": {"description": "Whether user is anonymous (1=Yes, 0=No)", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]},
    "trial_signup": {"description": "Whether user signed up for trial (1=Yes, 0=No)", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]},
    "paying_customer": {"description": "Whether user is paying customer (1=Yes, 0=No)", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]},
    "max_funnel_step": {"description": "Max step in conversion funnel reached", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": [1, 2, 3, 4]},
    "max_lifecycle_stage": {"description": "Current user lifecycle stage", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "categorical", "members": ["awareness", "consideration", "activation", "retention"]},
    "awareness_events": {"description": "Awareness stage event count", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "consideration_events": {"description": "Consideration stage event count", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "active_consideration_session": {"description": "Consideration active in session", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]},
    "active_activation_session": {"description": "Activation active in session", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]},
    "activation_events": {"description": "Activation stage event count", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "retention_events": {"description": "Retention events count", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "active_customer_session": {"description": "Customer activity in session", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]},
    "total_events": {"description": "Total event count", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "events_30d": {"description": "Events in last 30 days", "md_data_type": "BIGINT", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "numerical", "members": null},
    "purchased_plan": {"description": "Whether a plan was purchased", "md_data_type": "BOOLEAN", "ingest_data_type": "boolean", "sanitize": false, "data_type_category": "categorical", "members": [false, true]},
    "plan_tier": {"description": "Subscription plan level", "md_data_type": "VARCHAR", "ingest_data_type": "string", "sanitize": false, "data_type_category": "categorical", "members": ["no_plan", "enterprise", "starter", "business"]},
    "session_revenue": {"description": "Revenue generated in session", "md_data_type": "DOUBLE", "ingest_data_type": "number", "sanitize": false, "data_type_category": "continuous", "members": null},
    "revenue_30d": {"description": "Revenue in last 30 days", "md_data_type": "DOUBLE", "ingest_data_type": "number", "sanitize": false, "data_type_category": "continuous", "members": null},
    "first_session_date": {"description": "First ever session date", "md_data_type": "TIMESTAMP", "ingest_data_type": "timestamp", "sanitize": false, "data_type_category": "temporal", "members": null},
    "last_session_date": {"description": "Last session date", "md_data_type": "TIMESTAMP", "ingest_data_type": "timestamp", "sanitize": false, "data_type_category": "temporal", "members": null},
    "is_active_30d": {"description": "Active in last 30 days status", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]},
    "is_returning_user": {"description": "Returning user status", "md_data_type": "INTEGER", "ingest_data_type": "integer", "sanitize": false, "data_type_category": "categorical", "members": [0, 1]}
  },
  "dimensions": {
    "session_date": {"alias_name": "session_date", "transformation": null},
    "first_session_date": {"alias_name": "first_session_date", "transformation": null},
    "last_session_date": {"alias_name": "last_session_date", "transformation": null},
    "session_month_name": {"alias_name": "session_month_name", "transformation": null},
    "session_weekday_name": {"alias_name": "session_weekday_name", "transformation": null},
    "traffic_source": {"alias_name": "traffic_source", "transformation": null},
    "traffic_source_type": {"alias_name": "traffic_source_type", "transformation": null},
    "max_lifecycle_stage": {"alias_name": "max_lifecycle_stage", "transformation": null},
    "plan_tier": {"alias_name": "plan_tier", "transformation": null},
    "max_funnel_step": {"alias_name": "max_funnel_step", "transformation": null},
    "is_anonymous": {"alias_name": "user_status", "transformation": "CASE WHEN is_anonymous = 1 THEN 'Anonymous' ELSE 'Identified' END"},
    "trial_signup": {"alias_name": "trial_signup_status", "transformation": "CASE WHEN trial_signup = 1 THEN 'Signed Up' ELSE 'No Signup' END"},
    "purchased_plan": {"alias_name": "plan_purchase_status", "transformation": "CASE WHEN purchased_plan = true THEN 'Purchased' ELSE 'Not Purchased' END"},
    "active_consideration_session": {"alias_name": "consideration_session", "transformation": "CASE WHEN active_consideration_session = 1 THEN 'Active Consideration' ELSE 'No Consideration Activity' END"},
    "active_activation_session": {"alias_name": "activation_session", "transformation": "CASE WHEN active_activation_session = 1 THEN 'Active Activation' ELSE 'No Activation Activity' END"},
    "active_customer_session": {"alias_name": "customer_session", "transformation": "CASE WHEN active_customer_session = 1 THEN 'Active Customer' ELSE 'No Customer Activity' END"},
    "is_returning_user": {"alias_name": "visitor_type", "transformation": "CASE WHEN is_returning_user = 1 THEN 'Returning' ELSE 'New' END"},
    "is_active_30d": {"alias_name": "active_30d_status", "transformation": "CASE WHEN is_active_30d = 1 THEN 'Active' ELSE 'Inactive' END"}
  },
  "measures": {
    "session_id": {"aggregations": [], "formula": {"session_count": {"sql": "COUNT(DISTINCT session_id)", "format": "number", "decimals": 0, "description": "FORMULA: Total number of unique sessions"}}},
    "cookie_id": {"aggregations": [], "formula": {"unique_visitors": {"sql": "COUNT(DISTINCT cookie_id)", "format": "number", "decimals": 0, "description": "FORMULA: Unique visitors across sessions"}}},
    "session_revenue": {"aggregations": [{"sum": {"alias": "total_revenue", "format": "currency", "currency": "USD", "decimals": 2, "description": "SUM: Total revenue across all sessions"}}, {"avg": {"alias": "avg_revenue_per_session", "format": "currency", "currency": "USD", "decimals": 2, "description": "AVG: Average revenue per session"}}], "formula": null},
    "revenue_30d": {"aggregations": [{"sum": {"alias": "total_revenue_30d", "format": "currency", "currency": "USD", "decimals": 2, "description": "SUM: Total 30-day revenue across all sessions"}}, {"avg": {"alias": "avg_revenue_30d", "format": "currency", "currency": "USD", "decimals": 2, "description": "AVG: Average 30-day revenue per session"}}], "formula": null},
    "awareness_events": {"aggregations": [{"sum": {"alias": "total_awareness_events", "format": "number", "decimals": 0, "description": "SUM: Total awareness stage events across all sessions"}}, {"avg": {"alias": "avg_awareness_events", "format": "number", "decimals": 1, "description": "AVG: Average awareness events per session"}}], "formula": null},
    "consideration_events": {"aggregations": [{"sum": {"alias": "total_consideration_events", "format": "number", "decimals": 0, "description": "SUM: Total consideration stage events across all sessions"}}, {"avg": {"alias": "avg_consideration_events", "format": "number", "decimals": 1, "description": "AVG: Average consideration events per session"}}], "formula": null},
    "activation_events": {"aggregations": [{"sum": {"alias": "total_activation_events", "format": "number", "decimals": 0, "description": "SUM: Total activation stage events across all sessions"}}, {"avg": {"alias": "avg_activation_events", "format": "number", "decimals": 1, "description": "AVG: Average activation events per session"}}], "formula": null},
    "retention_events": {"aggregations": [{"sum": {"alias": "total_retention_events", "format": "number", "decimals": 0, "description": "SUM: Total retention events across all sessions"}}, {"avg": {"alias": "avg_retention_events", "format": "number", "decimals": 1, "description": "AVG: Average retention events per session"}}], "formula": null},
    "total_events": {"aggregations": [{"sum": {"alias": "sum_total_events", "format": "number", "decimals": 0, "description": "SUM: Total events across all sessions"}}, {"avg": {"alias": "avg_events_per_session", "format": "number", "decimals": 1, "description": "AVG: Average events per session"}}], "formula": null},
    "events_30d": {"aggregations": [{"sum": {"alias": "sum_events_30d", "format": "number", "decimals": 0, "description": "SUM: Total 30-day events across all sessions"}}, {"avg": {"alias": "avg_events_30d", "format": "number", "decimals": 1, "description": "AVG: Average 30-day events per session"}}], "formula": null},
    "days_since_last_session": {"aggregations": [{"avg": {"alias": "avg_days_since_last_session", "format": "number", "decimals": 1, "description": "AVG: Average days since last session"}}], "formula": null},
    "traffic_source": {"aggregations": [], "formula": {"paid_traffic": {"sql": "SUM(CASE WHEN traffic_source IN ('facebook_paid','google_paid') THEN 1 ELSE 0 END)", "format": "number", "decimals": 0, "description": "FORMULA: Total sessions from paid channels (Facebook/Google ads)"}, "organic_traffic": {"sql": "SUM(CASE WHEN traffic_source IN ('direct','facebook_organic','google_organic','email') THEN 1 ELSE 0 END)", "format": "number", "decimals": 0, "description": "FORMULA: Total sessions from organic channels (direct/organic/email)"}}},
    "active_activation_session": {"aggregations": [{"avg": {"alias": "active_activation_session_rate", "format": "percentage", "decimals": 1, "description": "AVG: Percentage of sessions with activation activity"}}], "formula": {"total_active_activation_sessions": {"sql": "SUM(CASE WHEN active_activation_session = 1 THEN 1 ELSE 0 END)", "format": "number", "decimals": 0, "description": "FORMULA: Total sessions with activation activity"}}},
    "trial_signup": {"aggregations": [], "formula": {"trial_signup_rate": {"sql": "AVG(CASE WHEN trial_signup = 1 THEN 100.0 ELSE 0.0 END)", "format": "percentage", "decimals": 1, "description": "FORMULA: Trial signup conversion rate"}}},
    "paying_customer": {"aggregations": [], "formula": {"paying_customer_rate": {"sql": "AVG(CASE WHEN paying_customer = 1 THEN 100.0 ELSE 0.0 END)", "format": "percentage", "decimals": 1, "description": "FORMULA: Paying customer rate"}}}
  }
}
